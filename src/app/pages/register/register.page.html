<ion-header>
  <div class="bg-[#4300FF] text-white p-4">
    <div class="flex items-center justify-between">
      <button (click)="goBack()" class="text-white hover:text-blue-200 transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>
      <h1 class="text-xl font-semibold">Daftar Partner</h1>
      <div class="w-6"></div>
    </div>
  </div>
</ion-header>

<ion-content>
  <div class="min-h-screen bg-surface-drop">
    <div class="max-w-md mx-auto p-4">
      <!-- Header Info -->
      <div class="bg-surface-sunken rounded-lg shadow-sm p-3 mb-6 mt-4">
        <div class="text-center">
          <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m2 0h4M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
            </svg>
          </div>
          <h2 class="text-lg font-bold text-text-bolder mb-1">Bergabung Sebagai Partner</h2>
          <p class="text-text-subtler text-xs">Daftarkan diri Anda dan mulai menawarkan jasa otomotif</p>
        </div>
      </div>

      <!-- Form -->
      <form (ngSubmit)="onSubmit()" class="space-y-6 text-xs">
        
<!-- Foto Profil -->
<div class="bg-white rounded-lg shadow-md p-4 w-full max-w-md mx-auto">
  <h3 class="text-lg font-bold text-gray-800 mb-1">Foto Profil</h3>
  <p class=" text-gray-500 mb-6">Silakan unggah foto diri Anda yang jelas.</p>

  <div class="flex flex-col items-center gap-4">
    <!-- Frame Foto -->
    <div class="w-28 h-28 rounded-full overflow-hidden border-2 border-gray-200 shadow-sm flex items-center justify-center bg-gray-100">
      <img 
        *ngIf="profileImage" 
        [src]="profileImage" 
        alt="Foto Profil" 
        class="w-full h-full object-cover"
      >
      <svg 
        *ngIf="!profileImage" 
        class="w-12 h-12 text-gray-400" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
              d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
      </svg>
    </div>

    <!-- Input & Tombol -->
    <input 
      type="file" 
      accept="image/*" 
      (change)="onFileSelected($event)"
      class="hidden"
      #fileInput
    >

    <button 
      type="button"
      (click)="fileInput.click()"
      [class.bg-blue-600]="!profileImage"
      [class.bg-green-600]="profileImage"
      class="text-white px-5 py-2 rounded-lg transition-transform hover:scale-95 text-sm font-semibold shadow-sm"
    >
      <span *ngIf="!profileImage">Pilih Foto</span>
      <span *ngIf="profileImage">Ubah Foto</span>
    </button>
  </div>
</div>


        <!-- Data Pribadi -->
        <div class="bg-white rounded-lg shadow-md p-4 text-text-subtle">
          <h3 class="text-lg font-semibold text-text-bolder mb-4">Data Pribadi</h3>
          <div class="space-y-4">
            
            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Nama Lengkap</label>
              <input 
                type="text" 
                [(ngModel)]="formData.nama"
                name="nama"
                class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Masukkan nama lengkap">
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Email</label>
              <input 
                type="email" 
                [(ngModel)]="formData.email"
                name="email"
                class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="contoh@email.com">
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Nomor Telepon</label>
              <input 
                type="number" 
                [(ngModel)]="formData.nomorTelepon"
                name="nomorTelepon"
                class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="08xxxxxxxxxx">
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Jenis Kelamin</label>
              <select 
                [(ngModel)]="formData.jenisKelamin"
                name="jenisKelamin"
                class="w-full px-3 py-3 text-text-subtle border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <option value="">Pilih jenis kelamin</option>
                <option value="Laki-laki">Laki-laki</option>
                <option value="Perempuan">Perempuan</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Kata Sandi</label>
              <div class="relative">
                <input 
                  [type]="showPassword ? 'text' : 'password'"
                  [(ngModel)]="formData.kataSandi"
                  name="kataSandi"
                  class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-12"
                  placeholder="Masukkan kata sandi">
                <button 
                  type="button"
                  (click)="togglePasswordVisibility()"
                  class="absolute inset-y-0 right-0 pr-3 flex items-center">
                  <eye-icon *ngIf="showPassword"/>
                  <eye-off-icon *ngIf="!showPassword"/>
    
                </button>
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Nomor KTP</label>
              <input 
                type="number" 
                [(ngModel)]="formData.nomorKTP"
                name="nomorKTP"
                class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="16 digit nomor KTP">
            </div>

          </div>
        </div>

        <!-- Alamat -->
        <div class="bg-white rounded-lg shadow-sm p-4">
          <h3 class="text-lg font-semibold text-text-bolder mb-4">Alamat</h3>
          <div class="space-y-4">
            
            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Domisili</label>
              <select 
                [(ngModel)]="formData.domisili"
                name="domisili"
                class="w-full px-3 py-3 border text-text-subtle border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <option value="">Pilih domisili</option>
                <option value="Jakarta">Jakarta</option>
                <option value="Bogor">Bogor</option>
                <option value="Depok">Depok</option>
                <option value="Tangerang">Tangerang</option>
                <option value="Bekasi">Bekasi</option>
                <option value="Bandung">Bandung</option>
                <option value="Surabaya">Surabaya</option>
                <option value="Medan">Medan</option>
                <option value="Semarang">Semarang</option>
                <option value="Makassar">Makassar</option>
                <option value="Palembang">Palembang</option>
                <option value="Yogyakarta">Yogyakarta</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Alamat Lengkap</label>
              <textarea 
                [(ngModel)]="formData.alamatLengkap"
                name="alamatLengkap"
                rows="3"
                class="w-full px-3 py-3 border border-line-default text-text-subtle rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"
                placeholder="Masukkan alamat lengkap termasuk RT/RW, Kecamatan, dll"></textarea>
            </div>

          </div>
        </div>

        <!-- Data Rekening -->
        <div class="bg-white rounded-lg shadow-sm p-4 text-text-subtle">
          <h3 class="text-lg font-semibold text-text-bolder mb-4">Data Rekening</h3>
          <div class="space-y-4">
            
            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Nama Bank</label>
              <select 
                [(ngModel)]="formData.namaBank"
                name="namaBank"
                class="w-full px-3 py-3 text-text-subtle border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                <option value="">Pilih bank</option>
                <option value="BCA">BCA</option>
                <option value="BNI">BNI</option>
                <option value="BRI">BRI</option>
                <option value="Mandiri">Mandiri</option>
                <option value="CIMB Niaga">CIMB Niaga</option>
                <option value="Danamon">Danamon</option>
                <option value="Permata">Permata</option>
                <option value="Maybank">Maybank</option>
                <option value="OCBC NISP">OCBC NISP</option>
                <option value="Jenius">Jenius</option>
                <option value="Digibank">Digibank</option>
                <option value="Blu BCA">Blu BCA</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Nama Pemilik Rekening</label>
              <input 
                type="text" 
                [(ngModel)]="formData.namaPemilikRekening"
                name="namaPemilikRekening"
                class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Nama sesuai rekening bank">
            </div>

            <div>
              <label class="block text-sm font-medium text-text-subtle mb-2">Nomor Rekening</label>
              <input 
                type="text" 
                [(ngModel)]="formData.nomorRekening"
                name="nomorRekening"
                class="w-full px-3 py-3 border border-line-default rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Nomor rekening">
            </div>

          </div>
        </div>

        <!-- Terms and Conditions -->
        <div class="bg-white rounded-lg shadow-sm p-4">
          <div class="flex items-start space-x-3">
            <input 
              type="checkbox"
              [(ngModel)]="formData.setujuSyarat"
              name="setujuSyarat"
              class="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-line-default rounded">
            <div class="text-sm">
              <label class="text-text-subtle">
                Saya setuju dengan <a href="#" class="text-blue-600 hover:text-blue-700 font-medium">syarat dan ketentuan</a> 
                yang berlaku dan <a href="#" class="text-blue-600 hover:text-blue-700 font-medium">kebijakan privasi</a>
              </label>
            </div>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="pb-6">
          <button 
            type="submit"
            [disabled]="!isFormValid()"
            class="w-full bg-bold-blue-default text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium text-lg">
            Daftar Sekarang
          </button>
        </div>

      </form>

      <!-- Login Link -->
      <div class="text-center pb-8">
        <p class="text-gray-600">
          Sudah punya akun? 
          <a href="/masuk" class="text-blue-600 hover:text-blue-700 font-medium">Masuk disini</a>
        </p>
      </div>

    </div>
  </div>
</ion-content>