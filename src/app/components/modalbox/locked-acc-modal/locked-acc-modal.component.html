<div *ngIf="isOpen" 
     class="fixed inset-0 z-[120] flex items-end sm:items-center justify-center bg-black modal-backdrop"
     [class.modal-open]="isOpen">
  <div class="modal-content bg-white w-full sm:w-[342px] rounded-t-2xl sm:rounded-2xl h-[50vh] sm:h-auto">
    <!-- Drag Indicator for Mobile -->
    <div class="sm:hidden w-full flex justify-center pt-2 pb-1 cursor-grab touch-manipulation"
         (mousedown)="onDragStart($event)"
         (touchstart)="onDragStart($event)"
         (mousemove)="onDrag($event)"
         (touchmove)="onDrag($event)"
         (mouseup)="onDragEnd()"
         (touchend)="onDragEnd()"
         (mouseleave)="onDragEnd()">
      <div class="w-12 h-1 bg-gray-300 rounded-full"></div>
    </div>

    <!-- Header - Only shown on desktop -->
    <div *ngIf="showCloseIcon" class="hidden sm:flex justify-end items-center p-3">
      <button (click)="close()" class="text-gray-500 hover:text-gray-700">
        <close-icon></close-icon>
      </button>
    </div>

    <!-- Content -->
    <div class="sm:pb-8 sm:px-8 p-6 flex flex-col gap-6">
      <div class="flex items-center justify-center">
        <img src="assets/icon-locked.svg" alt="">
      </div>
      <div class="text-center flex flex-col gap-2">
        <h2 class="text-xl text-text-bolder font-bold">Akun Terkunci</h2>
        <p class="text-text-subtle tracking-custom text-sm">Akses akun Anda telah dibatasi karena keterlambatan pembayaran invoice, segera lakukan pembayaran.</p>
      </div>

    <app-pakdome-button theme="tint-brand-default" (click)="handleInvoiceClick()">Lihat Tagihan</app-pakdome-button>
    </div>
  </div>
  
  <!-- Backdrop click untuk close modal -->
  <div class="fixed inset-0 -z-10" (click)="close()"></div>
</div>